- project:
    name: 'RPC-AIO-Leapfrog-Testing'
    # Note: branch is the branch for periodics to build
    #       branches is the branch pattern to match for PR Jobs.
    series:
      - newton-r11.1.18:
          UPGRADE_FROM_REF: "r11.1.18"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.15:
          UPGRADE_FROM_REF: "r11.1.15"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.14:
          UPGRADE_FROM_REF: "r11.1.14"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.10:
          UPGRADE_FROM_REF: "r11.1.10"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.9:
          UPGRADE_FROM_REF: "r11.1.9"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.6:
          UPGRADE_FROM_REF: "r11.1.6"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.5:
          UPGRADE_FROM_REF: "r11.1.5"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.4:
          UPGRADE_FROM_REF: "r11.1.4"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.1.3:
          UPGRADE_FROM_REF: "r11.1.3"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.0.4:
          UPGRADE_FROM_REF: "r11.0.4"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.0.1:
          UPGRADE_FROM_REF: "r11.0.1"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
      - newton-r11.0.0:
          UPGRADE_FROM_REF: "r11.0.0"
          branch: "r14.2.0"
          branches: "r14.2.0"
          KIBANA_SELENIUM_BRANCH: "newton"
          DEPLOY_TELEGRAF: "yes"
    image:
      - trusty:
          IMAGE: "Ubuntu 14.04.5 LTS prepared for RPC deployment"
    action:
      - leapfrogupgrade:
          DEFAULT_STAGES: >-
            Allocate Resources,
            Connect Slave,
            Prepare Deployment,
            Prepare Lifecycle,
            Deploy RPC w/ Script,
            Cleanup,
            Destroy Slave
          ACTION_STAGES: >-
            Leapfrog Upgrade,
            Install Tempest,
            Tempest Tests,
            Prepare Kibana Selenium,
            Kibana Tests
          GENERATE_TEST_NETWORKS: "6"
          GENERATE_TEST_SERVERS: "4"
          GENERATE_TEST_VOLUMES: "12"
    scenario:
      - swift
    ztrigger:
      - periodic:
          branches: "do_not_build_on_pr"
          NUM_TO_KEEP: 10
    # NOTE: if you want to exclude certain jobs, uncomment this section
    # and specify the types of jobs you don't want generated
    # exclude:
    #   - action: leapfrogupgrade
    #     series: kilo-r11.0.0
    jobs:
      # uses default template in rpc_aio.yml so we don't duplicate it here
      - 'RPC-AIO_{series}-{image}-{action}-{scenario}-{ztrigger}'
