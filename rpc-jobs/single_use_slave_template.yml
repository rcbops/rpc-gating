- job:
    name: Single_Use_Slave_Example
    project-type: workflow
    concurrent: true
    parameters:
      # Default params are provided by macro, add any extra params, or
      # params you want to override the defaults for.
      - single_use_slave_params
      - rpc_gating_params
      - string:
          name: STAGES
          default: "Allocate Resources, Connect Slave, Cleanup"
          description: |
            Pipeline stages to run CSV. Note that this list does not influence execution order.
            Options:
              Allocate Resources
              Connect Slave
              Pause (use to hold instance for investigation before cleanup)
              Cleanup
    dsl: |
      // CIT Slave node
      node(){
        pubcloud.runonpubcloud(
          step: {
              sh """
                hostname; date
                echo "your script here"
              """
            } //pubcloud step
        ) //runonpubcloud
      } //cit node
